import { useEditor } from '@craftjs/core'
import PropTypes from 'prop-types'

import SimpleNavbar from '@/components/user/Tailwind/Navbars/Simple'
import HeaderSimple from '@/components/user/Tailwind/Headers/HeaderSimple'
import FooterSocialOnly from '@/components/user/Tailwind/Footers/SocialOnly'
import FeatureWithSideImage from '@/components/user/Tailwind/Features/FeatureWithSideImage'
import SmallBannerFullWidthBgPrimary from '@/components/user/Tailwind/Banners/SmallBannerFullWidthBgPrimary'
import LeftTextRightCTA from '@/components/user/Tailwind/CTAs/LeftTextRightCTA'
import TeamCardsWithAvatar from '@/components/user/Tailwind/Teams/TeamCardsWithAvatars'
import TestimonialSingle from '@/components/user/Tailwind/Testimonials/TestimonialSingle'

function Sidebar() {
  const { connectors } = useEditor()

  const userComponents = [
    {
      label: 'Navigation',
      component: () => <SimpleNavbar />
    },
    {
      label: 'Header',
      component: () => <HeaderSimple />
    },
    {
      label: 'Feature',
      component: () => <FeatureWithSideImage />
    },
    {
      label: 'Banner',
      component: () => <SmallBannerFullWidthBgPrimary />
    },
    {
      label: 'CTA',
      component: () => <LeftTextRightCTA />
    },
    {
      label: 'Team',
      component: () => <TeamCardsWithAvatar />
    },
    {
      label: 'Testimonial',
      component: () => <TestimonialSingle />
    },
    {
      label: 'Footer',
      component: () => <FooterSocialOnly />
    }
  ]

  function SidebarItem({ label, userComponent }) {
    return (
      <li
        className="w-full px-4 py-2 rounded-md text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 cursor-move"
        ref={(ref) => connectors.create(ref, userComponent)}
      >
        {label}
      </li>
    )
  }

  SidebarItem.propTypes = {
    label: PropTypes.string.isRequired,
    userComponent: PropTypes.node.isRequired
  }

  return (
    <div className="hidden md:flex md:flex-shrink-0 bg-white border-r border-gray-100 font-medium text-sm shadow-sm">
      <div className="flex flex-col w-64">
        <div className="flex h-16 px-8 items-center">
          <svg width="120" viewBox="0 0 186 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M48.1375 32.561V2.50553H59.258C61.6624 2.50553 63.6518 2.90627 65.2261 3.70775C66.8005 4.50923 67.9741 5.61127 68.7469 7.01386C69.5198 8.41644 69.9062 9.99078 69.9062 11.7369C69.9062 13.3971 69.5341 14.9285 68.7899 16.3311C68.0456 17.705 66.8863 18.8214 65.312 19.6801C63.7377 20.5102 61.7197 20.9252 59.258 20.9252H53.6333V32.561H48.1375ZM53.6333 16.4599H58.9145C60.8323 16.4599 62.2063 16.0448 63.0364 15.2147C63.8951 14.356 64.3245 13.1967 64.3245 11.7369C64.3245 10.2484 63.8951 9.08911 63.0364 8.25901C62.2063 7.40028 60.8323 6.97092 58.9145 6.97092H53.6333V16.4599Z" fill="black" />
            <path d="M80.8731 33.0763C78.8122 33.0763 76.9516 32.604 75.2914 31.6594C73.6598 30.7148 72.3574 29.4123 71.3842 27.7521C70.4396 26.0633 69.9673 24.1169 69.9673 21.9128C69.9673 19.7087 70.4539 17.7766 71.4271 16.1164C72.4003 14.4275 73.7027 13.1108 75.3343 12.1662C76.9945 11.2216 78.8551 10.7493 80.916 10.7493C82.9484 10.7493 84.7803 11.2216 86.4119 12.1662C88.0721 13.1108 89.3745 14.4275 90.3191 16.1164C91.2923 17.7766 91.7789 19.7087 91.7789 21.9128C91.7789 24.1169 91.2923 26.0633 90.3191 27.7521C89.3745 29.4123 88.0721 30.7148 86.4119 31.6594C84.7517 32.604 82.9054 33.0763 80.8731 33.0763ZM80.8731 28.3103C82.3043 28.3103 83.5495 27.7808 84.6086 26.7217C85.6677 25.6339 86.1972 24.031 86.1972 21.9128C86.1972 19.7946 85.6677 18.2059 84.6086 17.1468C83.5495 16.0591 82.3186 15.5153 80.916 15.5153C79.4562 15.5153 78.1967 16.0591 77.1376 17.1468C76.1072 18.2059 75.5919 19.7946 75.5919 21.9128C75.5919 24.031 76.1072 25.6339 77.1376 26.7217C78.1967 27.7808 79.4419 28.3103 80.8731 28.3103Z" fill="black" />
            <path d="M94.1166 32.561V11.2646H99.0114L99.5266 15.2576C100.299 13.8837 101.344 12.796 102.661 11.9945C104.006 11.1644 105.581 10.7493 107.384 10.7493V16.5457H105.838C104.636 16.5457 103.563 16.7318 102.618 17.1039C101.673 17.476 100.929 18.1201 100.385 19.036C99.8701 19.952 99.6125 21.2258 99.6125 22.8574V32.561H94.1166Z" fill="black" />
            <path d="M120.2 32.561C117.967 32.561 116.178 32.0172 114.833 30.9294C113.487 29.8417 112.815 27.9096 112.815 25.133V15.8588H109.165V11.2646H112.815L113.459 5.55402H118.311V11.2646H124.064V15.8588H118.311V25.176C118.311 26.2064 118.525 26.922 118.955 27.3228C119.413 27.6949 120.186 27.8809 121.273 27.8809H123.935V32.561H120.2Z" fill="black" />
            <path d="M126.636 32.561V11.2646H131.531L132.046 15.2576C132.819 13.8837 133.864 12.796 135.18 11.9945C136.526 11.1644 138.1 10.7493 139.903 10.7493V16.5457H138.358C137.155 16.5457 136.082 16.7318 135.137 17.1039C134.193 17.476 133.449 18.1201 132.905 19.036C132.389 19.952 132.132 21.2258 132.132 22.8574V32.561H126.636Z" fill="black" />
            <path d="M148.855 33.0763C147.023 33.0763 145.52 32.79 144.347 32.2175C143.173 31.6164 142.3 30.8292 141.727 29.856C141.155 28.8828 140.869 27.8094 140.869 26.6358C140.869 24.6607 141.642 23.0578 143.187 21.8269C144.733 20.5961 147.052 19.9806 150.143 19.9806H155.553V19.4654C155.553 18.0056 155.138 16.9322 154.308 16.2452C153.478 15.5582 152.447 15.2147 151.216 15.2147C150.1 15.2147 149.127 15.4866 148.297 16.0305C147.467 16.5457 146.951 17.3186 146.751 18.3491H141.384C141.527 16.8034 142.042 15.458 142.93 14.313C143.846 13.1681 145.019 12.295 146.45 11.6939C147.882 11.0642 149.485 10.7493 151.259 10.7493C154.293 10.7493 156.684 11.5079 158.43 13.025C160.176 14.542 161.049 16.6889 161.049 19.4654V32.561H156.369L155.853 29.1261C155.224 30.2711 154.336 31.2157 153.191 31.9599C152.075 32.7041 150.63 33.0763 148.855 33.0763ZM150.1 28.7826C151.674 28.7826 152.891 28.2674 153.75 27.2369C154.637 26.2064 155.195 24.9326 155.424 23.4156H150.744C149.284 23.4156 148.239 23.6875 147.61 24.2314C146.98 24.7466 146.665 25.3906 146.665 26.1635C146.665 26.9936 146.98 27.6376 147.61 28.0956C148.239 28.5536 149.07 28.7826 150.1 28.7826Z" fill="black" />
            <path d="M166.25 7.95846C165.249 7.95846 164.419 7.6579 163.76 7.05679C163.13 6.45568 162.816 5.69714 162.816 4.78116C162.816 3.86519 163.13 3.12096 163.76 2.54847C164.419 1.94736 165.249 1.6468 166.25 1.6468C167.252 1.6468 168.068 1.94736 168.698 2.54847C169.356 3.12096 169.685 3.86519 169.685 4.78116C169.685 5.69714 169.356 6.45568 168.698 7.05679C168.068 7.6579 167.252 7.95846 166.25 7.95846ZM163.503 32.561V11.2646H168.998V32.561H163.503Z" fill="black" />
            <path d="M182.077 32.561C179.844 32.561 178.055 32.0172 176.71 30.9294C175.364 29.8417 174.692 27.9096 174.692 25.133V15.8588H171.042V11.2646H174.692L175.336 5.55402H180.188V11.2646H185.941V15.8588H180.188V25.176C180.188 26.2064 180.402 26.922 180.832 27.3228C181.29 27.6949 182.063 27.8809 183.15 27.8809H185.812V32.561H182.077Z" fill="black" />
            <path fill-rule="evenodd" clip-rule="evenodd" d="M4.35422 1.34536L16.9127 13.9035C17.2204 14.2112 17.7194 14.2112 18.0272 13.9035L30.5856 1.34536C31.0821 0.848898 30.7305 0 30.0284 0H4.91148C4.20936 0 3.85774 0.848897 4.35422 1.34536ZM13.9034 16.9126L1.34536 4.35456C0.848887 3.85808 0 4.20971 0 4.91182V30.0279C0 30.7301 0.848886 31.0817 1.34536 30.5852L13.9034 18.0271C14.2112 17.7194 14.2112 17.2204 13.9034 16.9126ZM24.1693 34.9397H34.1516C34.5868 34.9397 34.9397 34.5869 34.9397 34.1517V24.1697C34.9397 23.4675 34.0908 23.1159 33.5943 23.6124L23.6121 33.5944C23.1156 34.0909 23.4672 34.9397 24.1693 34.9397ZM7.28365 30.6656L4.3546 33.5944C3.85809 34.0908 4.2097 34.9397 4.91183 34.9397H10.7698C11.4719 34.9397 11.8235 34.0908 11.327 33.5944L8.39814 30.6656C8.09038 30.3579 7.59142 30.3579 7.28365 30.6656ZM16.9119 21.0386L11.4065 26.5439C11.0988 26.8517 11.0988 27.3507 11.4065 27.6584L16.9115 33.1634C17.2193 33.4712 17.7183 33.4712 18.026 33.1634L23.5314 27.6581C23.8392 27.3503 23.8392 26.8513 23.5314 26.5436L18.0264 21.0386C17.7186 20.7308 17.2196 20.7308 16.9119 21.0386ZM33.5943 4.35503L29.4569 8.49242C29.3091 8.64022 29.2261 8.84067 29.2261 9.04969V20.0597C29.2261 20.7619 30.075 21.1135 30.5715 20.617L34.7089 16.4796C34.8566 16.3318 34.9397 16.1314 34.9397 15.9223V4.9123C34.9397 4.21018 34.0908 3.85856 33.5943 4.35503ZM23.6252 14.3234L21.0358 16.9126C20.7281 17.2204 20.728 17.7194 21.0358 18.0272L23.6252 20.6165C24.1216 21.113 24.9705 20.7613 24.9705 20.0592V14.8807C24.9705 14.1786 24.1216 13.827 23.6252 14.3234Z" fill="black" />
          </svg>
        </div>
        <div className="flex-col h-full p-4">
          <div className="mt-4" mt="4">
            <p className="ml-4 mb-3 text-xs uppercase text-gray-900 font-semibold tracking-wide">
              Components
            </p>
            <ul className="flex-col">
              {userComponents.map(({ label, component }) => (
                <SidebarItem key={label} label={label} userComponent={component()} />
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  )
}

export default Sidebar
